### 故障检测
    动态（用得少） --- 根据服务当前状态动态（cpu，响应，错误率）
    静态         --- 一秒内能执行多少请求（令牌，漏桶，固定窗口，滑动窗口）
        令牌桶： 有一个往桶里放令牌，此时如果拿到了就能执行，拿不到就不能执行（channel）—— 返回错误（限流/熔断），返回默认值（降级）
        漏桶： 请求过来先排队,在队头放行，如果队列满了就不能进（channel）
        固定窗口：每个时间段为一个一个窗口，每个窗口给一定的数量,当扣减为0则代表获取不到，直到下一个窗口
            redis ： lua脚本（通过原子性操作 --）： 1.如果不在新增这个key并对这个key设置过期时间 2.如果--为0返回false 限流成功
        滑动窗口：通过当前时间-减去设定时间长度，获取窗口，取这个窗口内的数量，如果长度大于等于设定值，则代表无法获得，否则获取成功，插入队列（频繁插入判断删除)
            redis ： lua脚本 zremrangebyscore key -inf 当前时间戳-设定值（性能差）进行删除部分的数据 然后用zcount进行获取个数，同时用Zadd进行添加，socre为时间戳

    令牌桶:每秒有多少给令牌。拿不到就报错丢弃。（主动在自己如果拿不到就报错），解决突发流量，由于不等待则不是平滑流量 （是否能从chan拿数据）
    漏桶：以队列的长度先进入队列，等待获取资格（主动方在队列消费端），平滑流量并避免突发大流量对服务接口的影响 （是否能插入chan）
    固定窗口：一个时间段给出一定的数量，如果数量为0则获取不到，与令牌桶类似，但是是以固定时间为维度，如果上一个时间段还没处理完就过下一个窗口就会比较麻烦（是否能从 i-- >= 0拿数据）
    滑动窗口：当前时间往前推设定的时间，算出这个时间段的队列数量，如果小于设定值就获取成功，否则失败。平滑流量并避免突发大流量对服务接口的影响 

### 故障处理
    

### 故障恢复

